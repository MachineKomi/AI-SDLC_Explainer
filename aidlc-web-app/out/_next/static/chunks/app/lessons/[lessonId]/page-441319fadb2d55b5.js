(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[549],{9182:function(e,s,t){Promise.resolve().then(t.bind(t,2225))},2225:function(e,s,t){"use strict";t.d(s,{default:function(){return o}});var n=t(7437),a=t(9376),l=t(2265),c=t(7648),i=t(3633),r=t(5312);function o(e){let{lessonId:s}=e,t=(0,a.useRouter)(),{state:o,updateLessonProgress:d,markLessonCompleted:x}=(0,i.S)(),[m,h]=(0,l.useState)(0),u=(0,r.ch)(s);(0,l.useEffect)(()=>{if(!u){t.push("/lessons");return}let e=o.lessons.inProgress[s];e&&h(e.lastSection)},[u,s,o.lessons.inProgress,t]);let b=(0,l.useCallback)(e=>{if(!u)return;let t=Math.max(0,Math.min(e,u.sections.length-1));h(t),d(s,t),t===u.sections.length-1&&x(s)},[u,s,d,x]),f=(0,l.useCallback)(e=>{u&&("Escape"===e.key?t.push("/lessons"):"ArrowRight"===e.key||"l"===e.key?b(m+1):("ArrowLeft"===e.key||"h"===e.key)&&b(m-1))},[u,t,m,b]);if((0,l.useEffect)(()=>(window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)),[f]),!u)return(0,n.jsx)("div",{className:"p-8",children:"Loading..."});let j=u.sections[m],p=0===m,N=m===u.sections.length-1;return(0,n.jsxs)("main",{className:"min-h-screen p-4 md:p-8 max-w-4xl mx-auto",children:[(0,n.jsxs)("header",{className:"mb-6",children:[(0,n.jsx)(c.default,{href:"/lessons",className:"text-slate-400 hover:text-slate-200 text-sm mb-2 inline-block",children:"← Back to Lessons"}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h1",{className:"text-xl md:text-2xl font-bold",children:u.title}),(0,n.jsxs)("span",{className:"text-sm text-slate-400",children:["Section ",m+1," of ",u.sections.length]})]})]}),(0,n.jsxs)("article",{className:"card mb-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-accent-primary mb-4",children:j.title}),(0,n.jsx)("div",{className:"prose prose-invert max-w-none",children:(0,n.jsx)("pre",{className:"whitespace-pre-wrap font-sans text-slate-300 leading-relaxed",children:j.content})}),j.diagram&&(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsx)("pre",{className:"ascii-diagram text-xs md:text-sm overflow-x-auto",children:j.diagram})})]}),(0,n.jsxs)("nav",{className:"flex items-center justify-between",children:[(0,n.jsx)("button",{onClick:()=>b(m-1),disabled:p,className:"btn ".concat(p?"opacity-50 cursor-not-allowed":"btn-secondary"),children:"← Previous"}),(0,n.jsx)("div",{className:"flex gap-1",children:u.sections.map((e,s)=>(0,n.jsx)("button",{onClick:()=>b(s),className:"w-2 h-2 rounded-full transition-colors ".concat(s===m?"bg-accent-primary":s<m?"bg-accent-success":"bg-slate-600"),"aria-label":"Go to section ".concat(s+1)},s))}),(0,n.jsx)("button",{onClick:()=>b(m+1),disabled:N,className:"btn ".concat(N?"opacity-50 cursor-not-allowed":"btn-primary"),children:"Next →"})]}),(0,n.jsx)("footer",{className:"mt-8 pt-4 border-t border-slate-700",children:(0,n.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm text-slate-500",children:[(0,n.jsxs)("span",{children:[(0,n.jsx)("kbd",{className:"kbd",children:"←"})," / ",(0,n.jsx)("kbd",{className:"kbd",children:"h"})," Previous"]}),(0,n.jsxs)("span",{children:[(0,n.jsx)("kbd",{className:"kbd",children:"→"})," / ",(0,n.jsx)("kbd",{className:"kbd",children:"l"})," Next"]}),(0,n.jsxs)("span",{children:[(0,n.jsx)("kbd",{className:"kbd",children:"Esc"})," Exit"]})]})})]})}}},function(e){e.O(0,[448,14,971,117,744],function(){return e(e.s=9182)}),_N_E=e.O()}]);